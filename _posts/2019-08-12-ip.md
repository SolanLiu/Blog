---
layout: post
#标题配置
title:  图像处理
#时间配置
date:   2019-06-20
#大类配置
categories:Interview
#小类配置
tag: 图像处理
---

* content
{:toc}
# 图像处理

### 001 颜色空间介绍
- **RGB**
- **HSI**
- **CMYK**
- **YUV**

### 002 高斯滤波

先引入两个问题。

1. 图像为什么要滤波？
答：a.消除图像在数字化过程中产生或者混入的噪声。
b.提取图片对象的特征作为图像识别的特征模式。

2. 滤波器该如何去理解?
答：滤波器可以想象成一个包含加权系数的窗口或者说一个镜片，当使用滤波器去平滑处理图像的时候，就是把通过这个窗口或者镜片去看这个图像。
滤波器分为很多种，有<u>方框滤波、均值滤波、高斯滤波</u>等。

**高斯滤波是一种线性平滑滤波，适用于消除高斯噪声。**所以在讲高斯滤波之前，先解释一下什么是高斯噪声？

**1、高斯噪声**

首先，**噪声**在图像当中常表现为一引起较强视觉效果的孤立像素点或像素块。简单来说，噪声的出现会给图像带来干扰，让图像变得不清楚。

**高斯噪声**就是它的概率密度函数服从高斯分布（即正态分布）的一类噪声。如果一个噪声，它的<u>幅度分布服从高斯分布，而它的功率谱密度又是均匀分布的，则称它为高斯白噪声</u>。高斯白噪声的二阶矩不相关，一阶矩为常数，是指先后信号在时间上的相关性。

**高斯滤波器是根据高斯函数的形状来选择权值的线性平滑滤波器**

 所以接下来再讲解一下高斯函数和高斯核。

**2、高斯函数**

<img src = "https:////upload-images.jianshu.io/upload_images/14512145-cb79bc3d41cc37fd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/708/format/webp" width = 400 height = 300 align = center>

注：σ的大小决定了高斯函数的宽度。

**3、高斯核**

理论上，高斯分布在所有定义域上都有非负值，这就需要一个无限大的卷积核。实际上，仅需要取均值周围3倍标准差内的值，以外部份直接去掉即可。

 **高斯滤波的重要两步就是先找到高斯模板然后再进行卷积**，模板（mask在查阅中有的地方也称作掩膜或者是高斯核）。所以这个时候需要知道它怎么来？又怎么用？

举个栗子：

假定中心点的坐标是（0,0），那么取距离它最近的8个点坐标，为了计算，需要设定σ的值。假定<u>σ=1.5，则模糊半径为1</u>的高斯模板就算如下

<img src = "https:////upload-images.jianshu.io/upload_images/14512145-04d41990169b094a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/800/format/webp" width = 600 height = 300 align = center>

这个时候我们我们还要确保这<u>九个点加起来为1</u>（这个是高斯模板的特性），这9个点的权重总和等于0.4787147，因此上面9个值还要分别除以0.4787147，得到最终的高斯模板。

<img src = "https:////upload-images.jianshu.io/upload_images/14512145-049ada57d888bf79.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/409/format/webp" width = 300 height = 250 align = center>

**4、高斯滤波计算**

举个栗子：

假设现有9个像素点，灰度值（0-255）的高斯滤波计算如下：

<img src = "https:////upload-images.jianshu.io/upload_images/14512145-530497b10b412a95.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" width = 700 height = 250 align = center>

**参考资料**

- https://blog.csdn.net/nima1994/article/details/79776802

将这9个值加起来，就是中心点的高斯滤波的值。
对所有点重复这个过程，就得到了高斯模糊后的图像。

**5、高斯滤波步骤**
综上可以总结一下步骤：

（1）移动相关核的中心元素，使它位于输入图像待处理像素的正上方
（2）将输入图像的像素值作为权重，乘以相关核
（3）将上面各步得到的结果相加做为输出

**简单来说就是根据高斯分布得到高斯模板然后做卷积相加的一个过程。**

**参考资料**

- [简单易懂的高斯滤波](https://www.jianshu.com/p/73e6ccbd8f3f)
- [图像滤波之高斯滤波介绍](https://www.cnblogs.com/qiqibaby/p/5289977.html)

**6、二维高斯滤波能否分解成一维操作？**

答：可以分解。二维高斯滤波分解为两次一维高斯滤波，高斯二维公式可以推导为X轴与Y轴上的一维高斯公式。即<u>使用一维高斯核先对图像逐行滤波，再对中间结果逐列滤波</u>。

**参考资料**

- [快速高斯滤波、高斯模糊、高斯平滑(二维卷积分步为一维卷积)](https://blog.csdn.net/qq_36359022/article/details/80188873)

### 018 双边滤波

### 020 引导滤波

**参考资料**

- [【拜小白opencv】33-平滑处理6——引导滤波/导向滤波（Guided Filter）](https://blog.csdn.net/sinat_36264666/article/details/77990790)

### 003 腐蚀和膨胀

### 004 开运算和闭运算

### 005 线性插值

### 005 双线性插值

### 006 仿射变换

### 006 透视变换

### 009 常见的边缘检测算子

### 010 Sobel算法

### 011 Canny算法

### 012 Hough变换原理（直线和圆检测）

### 008 分水岭算法

### 014 单应性（homography）原理

### 038 时域、空间域、频率域

- 以时间作为变量所进行的研究就是时域
- 以频率作为变量所进行的研究就是频域：自变量是频率，即横轴是频率，纵轴是该频率信号的幅度，也就是通常说的频谱图
- 以空间坐标作为变量进行的研究就是空间域
- 以波数作为变量所进行的研究称为波数域

### 019 图像中的低频信息和高频信息

图像频率：图像中灰度变化剧烈程度的指标

- 低频信息（低频分量）表示图像中灰度值变化缓慢的区域，对应着图像中大块平坦的区域。
- 高频信息（高频分量）表示图像中灰度值变化剧烈的区域，对应着图像的边缘（轮廓）、噪声以及细节部分。

低频分量：主要对整幅图像强度的综合度量

高频分量：主要对图像边缘和轮廓的度量

从傅里叶变换的角度，将图像从灰度分布转化为频率分布。

**参考资料**

- [理解图像中的低频分量和高频分量](https://blog.csdn.net/Chaolei3/article/details/79443520)

### 022 RANSAC算法

### 023 Bundle Adjustment（BA）算法

### 024 L-M算法

### 025 SIFT算法

- 具有尺度不变性
- 具有旋转不变性
- 检查的是图像中的极大极小值

### 026 SURF算法

### 027 ORB算法

### 028 LSD算法

### 029 LBP算法

### 030 如何求一张图片的均值？

### 031 下面的颜色空间表示中，能较好的分离图像亮度和色度信息的是？

- Lab模式由三个通道组成：一个是明度通道 L，包含图像的亮度信息，取值范围是[0,100]，表示从纯黑到纯白。另外两个是色彩通道，用A和B来表示。A通道包括的颜色是从绿色（低亮度值）到灰色（中亮度值）再到洋红色（高亮度值），取值范围是[-128，127] 。B通道则是从蓝色（低亮度值）到灰色（中亮度值）再到黄色（高亮度值），取值范围是[-128，127] 。

### 033  双目摄像头的内参

- 焦距（Focal length）
- 扭曲值（Distortion）
- 光点中心（Optical center）

### 034  请写出一个3x3的矩阵，能使得图像左右翻转

- [-1 0 0; 0 1 0; 0 0 1]
- 矩阵左乘会产生行变换，右乘会产生列变换

### 035 去除数字图像中大颗粒噪音的算法

- a) 构建图像金字塔，通过控制金字塔不同层的去噪强度来去除相应尺度的噪音；
- b) 每一层里面的去噪，可以使用小波去噪，non-local去噪，双边去噪等；
- c) 分离亮度和色度通道，对亮度和色度通道采用不同强度来去噪；
- 形态学噪声滤波器：将开与闭结合可用来滤除噪声，首先对有噪声图像进行开运算，可选择结构要素矩阵比噪声尺寸大，因而开运算的结果是将背景噪声去除；再对前一步得到的图像进行闭运算，将图像上的噪声去掉。据此可知，此方法适用的图像类型是图像中的对象尺寸都比较大，且没有微小细节，对这类图像除噪效果会较好

### 036 在合成高动态域图像（HDR）时，需要将多张不同曝光的图像合成，实现中需要对不同曝光图像进行对齐和融合，请用文字或者流程图描述这两个步骤的思路

- a)    首先是对齐，由于亮度不同，所以先要转化到一个亮度无关的空间上去进行对齐；
- b)    需要定义出合成的规则：比如根据亮度来选择不同图中的区域；
- c)    为了无缝的进行融合，可以采用金字塔分解合成的方式；
- d)    需要防止ghost的产生。

### 037 有两张由双摄相机拍摄同一个场景的RGB图，请设计一个系统计算出这个场景的深度图

- a)    需要线进行双摄的标定，或者矫正，或者同时使用；
- b)    根据标定，或者矫正的数据把左右图矫正到相同特征点位于同一水平线上；
- c)    计算稀疏的视差图；
- d)    计算稠密的视差图；
- e)    根据视察图计算深度图。



